<section class="gallery">
    <h2>Galerie Photo</h2>
    <div class="grid-gallery">
        <div class="img-box" *ngFor="let photo of images; let i = index">
            <img [src]="photo.url" [alt]="photo.alt" (click)="openLightbox(i)" class="gallery-img" title="Cliquez pour agrandir" tabindex="0" (keyup.enter)="openLightbox(i)">
            <div class="caption">{{ photo.caption }}</div>
        </div>
    </div>

    <!-- Lightbox  -->
    <div class="lightbox" *ngIf="lightboxActive" (click)="closeLightbox()">
        <div class="lightbox-content" (click)="$event.stopPropagation()">
            <button class="lightbox-nav prev" (click)="navigate('prev')" aria-label="Image précédente">
                &#10094;
            </button>

            <img title="image" [src]="lightboxImage.url" [alt]="lightboxImage.alt" (keyup.escape)="closeLightbox()" tabindex="0">

            <button class="lightbox-nav next" (click)="navigate('next')" aria-label="Image suivante">
                &#10095;
            </button>

            <div class="lightbox-footer">
                <span class="image-counter">
                    {{ (currentImageIndex ?? 0) + 1 }} / {{ images.length }}
                </span>
                <span class="image-caption">{{ lightboxImage.caption }}</span>
            </div>

            <button class="lightbox-close" (click)="closeLightbox()" aria-label="Fermer la visionneuse">×</button>
        </div>
    </div>
</section>